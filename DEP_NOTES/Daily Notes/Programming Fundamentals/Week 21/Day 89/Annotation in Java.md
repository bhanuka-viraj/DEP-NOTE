
|                                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ---------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| What is the reason to<br>use annotation                    | To add meta data. (extra information)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| Does `annotation` impact<br>for the original source code   | In most time annotation does not impact for the <br>original source code                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Who use the annotation                                     | There are three parties that use annotation<br><br>1.SCM (Source Code Management )Tools<br>2.Compilers<br>3.Frameworks, Libraries<br><br>Frameworks and libraries can be changed the <br>source code using annotations.<br>                                                                                                                                                                                                                                                                                                                                                   |
| What is the retention <br>policy in  annotation            | The retention policy in an annotation specifies how long the <br>annotation should be retained and available in the Java <br>runtime environment. It defines whether the annotation is available only in the source code, in the compiled class files, or during runtime via reflection.<br><br><br>There are three retention policies -><br><br>1.SOURCE -> SCM<br>2.CLASS-> Compilers(default)<br>3. RUNTIME -> Frameworks, LIbraries<br><br>`ClASS` is the default retention policy of the annotation<br><br>Framework and libraries does mean that they depend on <br>JVM |
| what is the relationship <br>between those policies        | `SOURCE` -> SCM<br>This is only accessed for the SCMs<br><br><br>`CLASS` -> Compilers<br>This is accessed for both SCM and Compilers<br><br>`RUNTIME` -> Framework, Libraries<br>This is accessed for the all `SOURCE`, `CLASS`, `RUNTIME`<br><br>`SOURCE` and `CLASS` do not impact for the original<br>source code.<br><br>`RUNTIME` can impact the source code if framework<br>read it using the reflection                                                                                                                                                                |
| How does <br>annotation is denoted in class<br>declaration | ![[Pasted image 20240708172301.png]]<br><br>annotation is a special interface<br>Retention policy should be added                                                                                                                                                                                                                                                                                                                                                                                                                                                             |

==What are the characteristic of annotation ->==

1.Annotation is special type of a interface(@ interface)
2.Annotation cannot have void method. Should be return something
3.Methods are public and abstract same as the interfaces
4.Not allowed to add formal parameters or type parameters in methods
5.Not allowed to use throws clause with methods
6.Not allowed to declare public or private static methods
7.Not allowed to declare public default / private instance method
8.Annotation cannot extend both annotation and interface. But interface can extend interface and annotation
9.Annotation cannot be extend with the generic
10.Annotations are implicitly extend with the `java.lang.annotation.Annotation`
(Direct Super Interface). This is the same as the object for classes.
11.Annotation are allowed to create the constants(in default variables are public , static, final - similar to the interface)
12.Cannot be used with Sealed and non Sealed
13.Allow to create top level classes and they are implicitly public, static.
14.Methods in the annotations are called attribute and element
15.Since methods are considered as attributes in the annotation the naming convention for the method should be stated with a noun instead a verb
16.`Default` keyword is used to set the default value of a attribute  (method)->
![[Pasted image 20240708181758.png]]
The default value can be a expression but should be a compile time expression

|                                                                     |                                                                                                                                                                                                                                           |
| ------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| What are the return type that<br>can be used for<br>the annotations | ->A primitive type<br>-> String<br>-> Class or invocation of a class<br>-> An enum class type<br>-> An annotation interface type<br>-> An array type whose component type is one of the <br>preceding types (array of above type)<br><br> |
| ==Interview Q==<br>                                                 | ==Q.== Does annotation can extend annotation and interface<br><br>==A.== Annotation cannot extend both annotation and interface. But interface can extend interface and annotation<br>                                                    |
| ==How does the methods are called<br>in annotations==               | attribute, element                                                                                                                                                                                                                        |
| Where default <br>keyword is used in java                           | switch -> to set default value<br>interface -> to default methods<br>annotations -> to set the default values for the attributes(elements)<br>                                                                                            |
| What is the use of <br>default value in <br>attribute of annotation | if the attribute annotation is not implemented then default values is returned.                                                                                                                                                           |

What are the rules for the methods in annotation -> from JLS
By virtue of the grammar above, a method declaration in an annotation interface declaration cannot have formal parameters, type parameters, or a `throws` clause; and cannot be `private`, `default`, or `static`. Thus, an annotation interface cannot have the same variety of methods as a normal interface. Note that it is still possible for an annotation interface to inherit a default method from its implicit super interface, `java.lang.annotation.Annotation`, though no such default method exists as of Java SE 17.

[[What are the type of annotations]]

|                                       |                                                                                                                                                                                                                                                                                                                                            |
| ------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| What does mean the<br>meta annotation | Adding a annotation to a another annotation<br><br>![[Pasted image 20240708191443.png]]<br><br><br>`@Target() and @Retention()` are the meta <br>annotations                                                                                                                                                                               |
| What is the target <br>annotation     | Target annotation can be used to control where <br>annotations are being used (fields, parameters)<br><br>This can be used withing field<br>![[Pasted image 20240708191629.png]]<br><br>This can be used withing parameters<br><br>![[Pasted image 20240708191657.png]]<br><br>If the `@Target` is not set then it can be used in anywhere |
|                                       |                                                                                                                                                                                                                                                                                                                                            |

