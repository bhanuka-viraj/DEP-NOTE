
![[Pasted image 20240717171451.png]]


![[Pasted image 20240717171149.png]]

|                                                                                                             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ----------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| What is persistence<br>bag                                                                                  | In Hibernate, a **persistence bag** refers to a collection, such as a `List` or `Set`, that manages associations between entities, ensuring these collections are properly handled within the persistence context. It supports operations like adding or removing entities from the collection while maintaining synchronization with the database. Persistence bags often use proxies for lazy loading, meaning the actual data is only fetched when the collection is accessed for the first time.<br><br>Persistence bag is not a entity. It is a list that contains the entities |
| What does dirty flag means in <br>persistence<br>bag                                                        | If a one entity is added or updated the flag of the persistence bag is set to true                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| What does persistence context dirty mean                                                                    | Either persistence bag or  entity is dirty, then persistence context is dirty.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| What happen if any entity has dirty flag true when the transaction is <br>committed                         | Save or Update is being worked against the particular entity when transaction is committed                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| What happen if <br>persistence bag's dirty flag is true and Cascade is set to the `persistance` or<br>`all` | save or update is applied for the entities in the bag(the entities that was added or removed in the bag)                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|                                                                                                             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
